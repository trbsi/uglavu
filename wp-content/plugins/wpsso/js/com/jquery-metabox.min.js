function sucomInitMetabox(e){e?e+=" table.sucom-settings":e="table.sucom-settings",jQuery(e+" input.colorpicker").wpColorPicker(),jQuery(e+" input.datepicker").datepicker({dateFormat:"yy-mm-dd"}),jQuery(e+" input[type=checkbox]").blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(e+" input[type=text]").blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(e+" textarea").blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(e+" select").blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(document).on("click",e+' input[type="checkbox"][data-group]',function(e){var t=jQuery(this),a=t.prop("checked"),n=t.data("group");jQuery('input[type="checkbox"][data-group="'+n+'"]').not(t).prop("checked",a)})}function sucomSelectLoadJson(e,t){if(e&&window[t]){var a=jQuery(e+":not( .json_loaded )");if(a.length){a.addClass("json_loaded");var n=a.data("default-value"),r=a.data("default-text"),o=a.val(),u="";jQuery.each(window[t],function(e,t){u+='<option value="'+e+'"',e===o&&(u+=' selected="selected"'),n===e&&(t+=" "+r),u+=">"+t+"</option>"}),a.empty(),a.append(u)}}}function sucomMarkChanged(){jQuery(this).addClass("changed")}function sucomDisableUnchanged(e){e?e+=" table.sucom-settings":e="table.sucom-settings",jQuery(e+" input[type=checkbox]:not( .changed )").each(function(){jQuery(this).attr("disabled","disabled"),hidden_checkbox_name=this.name.replace(/^(.*)\[(.*)\]$/,"$1\\[is_checkbox_$2\\]"),jQuery(e+" input[name="+hidden_checkbox_name+"]").attr("disabled","disabled")}),jQuery(e+" input[type=text]:not( .changed )").attr("disabled","disabled"),jQuery(e+" textarea:not( .changed )").attr("disabled","disabled"),jQuery(e+" select:not( .changed )").attr("disabled","disabled")}function sucomTextLen(e){var t=jQuery.trim(sucomClean(jQuery("#"+e).val())).length,a=Number(jQuery("#"+e).attr("minLength")),n=Number(jQuery("#"+e).attr("warnLength")),r=Number(jQuery("#"+e).attr("maxLength")),o="{0} characters";a&&r&&r<a&&(r=a);var u=sucomLenSpan(t,r,n,a),c=r;a?r?(r>a&&(c=String(a)+"-"+String(r)),o="{0} of {1} characters required",sucomMetaboxL10n._req_len_msg||(o=sucomMetaboxL10n._req_len_msg)):(c=a,o="{0} of {1} characters minimum",sucomMetaboxL10n._min_len_msg||(o=sucomMetaboxL10n._min_len_msg)):r?(o="{0} of {1} characters maximum",sucomMetaboxL10n._max_len_msg||(o=sucomMetaboxL10n._max_len_msg)):sucomMetaboxL10n._len_msg||(o=sucomMetaboxL10n._len_msg),jQuery("#"+e+"-lenMsg").html('<div class="text_len_msg">'+o.formatUnicorn(u,c)+"</div>")}function sucomLenSpan(e,t,a,n){n||(n=0),t||(t=0),a||(a=t?t-20:0);return'<span class="'+(n&&e<n?"bad":n&&e>=n?"good":t&&e>=t-5?"bad":a&&e>=a?"warn":"good")+'">'+e+"</span>"}function sucomClean(e){if(void 0===e||""===e)return"";try{e=(e=e.replace(/<\/?[^>]+>/g,"")).replace(/\[(.+?)\](.+?\[\/\\1\])?/,"")}catch(e){}return e}function sucomTabs(e,t,a){var n="sucom-tabset"+(e=e||"_default")+"-tab"+(t=t||"_default"),r=window.location.hash;if(r=""===r?n:-1===r.search("sucom-tabset"+e+"-tab_")?n:r.replace("#",""),jQuery("."+r).addClass("active"),jQuery("."+r+"-msg").addClass("active"),jQuery("a.sucom-tablink"+e).click(function(){jQuery(".sucom-metabox-tabs"+e+" li").removeClass("active"),jQuery(".sucom-tabset"+e).removeClass("active"),jQuery(".sucom-tabset"+e+"-msg").removeClass("active");var t=jQuery(this).attr("href").replace("#","");jQuery("."+t).addClass("active"),jQuery("."+t+"-msg").addClass("active"),jQuery(this).parent().addClass("active")}),jQuery(".sucom-metabox-tabs").show(),a){var o=jQuery("div#wpadminbar").height(),u=jQuery(a).offset().top+o;jQuery("html, body").stop(!0,!0).animate({scrollTop:u},"fast")}}function sucomViewUnhideRows(e,t,a){a=a||"hide_in",jQuery("div."+e).find("."+a+"_"+t).show(),jQuery("."+e+"-msg").hide()}function sucomSelectChangeUnhideRows(e,t){e&&jQuery("tr."+e).hide(),t&&(t=t.replace(/[:\/\-\. ]+/g,"_"),jQuery("tr."+t).show())}function sucomSelectChangeRedirect(e,t,a){url=a+jQuery(location).attr("hash"),window.location=url.replace("%%"+e+"%%",t)}function sucomCopyInputId(e){return jQuery("input#"+e).select(),document.execCommand("Copy",!1,null),jQuery("input#"+e).blur(),!1}function sucomToggle(e){return jQuery("#"+e).toggle(),!1}jQuery(document).ready(function(){sucomInitMetabox()}),String.prototype.formatUnicorn=String.prototype.formatUnicorn||function(){"use strict";var e=this.toString();if(arguments.length){var t,a=typeof arguments[0],n="string"===a||"number"===a?Array.prototype.slice.call(arguments):arguments[0];for(t in n)e=e.replace(new RegExp("\\{"+t+"\\}","gi"),n[t])}return e};