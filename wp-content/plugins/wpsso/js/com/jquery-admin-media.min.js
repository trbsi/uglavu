function sucomInitAdminMedia(e){void 0===e?e="table.sucom-settings":e+=" table.sucom-settings",jQuery(document).on("click",e+" .sucom_image_upload_button",function(e){sucomHandleImageUpload(this,e)})}function sucomHandleImageUpload(e,a){var i=jQuery(e).attr("data-pid"),t=jQuery(e).attr("id").replace(/^button_(.*)$/,"$1"),o="";t.match(/^.*_[0-9]+$/)&&(o=t.replace(/^(.*)(_[0-9]+)$/,"$2"),t=t.replace(/^(.*)(_[0-9]+)$/,"$1")),a.preventDefault(),"undefined"!=typeof sucom_image_upload_media&&sucom_image_upload_media.close(),sucom_image_upload_media=wp.media({title:sucomMediaL10n._select_image,button:{text:sucomMediaL10n._select_image},multiple:!1,library:{type:"image"}}),sucom_image_upload_media.on("open",function(){if(jQuery.isNumeric(i)&&i){var a=sucom_image_upload_media.state().get("selection"),t=wp.media.attachment(i);a.add(t?[t]:[])}jQuery(".media-modal",e.el).find("#media-search-input").focus()}),sucom_image_upload_media.on("select",function(){var e=sucom_image_upload_media.state().get("selection").first().toJSON();jQuery("#text_"+t+"_id"+o).val(e.id),jQuery("#select_"+t+"_id_pre"+o).val("wp"),jQuery("#text_"+t+"_url"+o).prop("disabled",!0)}),sucom_image_upload_media.open()}jQuery(document).ready(function(){sucomInitAdminMedia()});